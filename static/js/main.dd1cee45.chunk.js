(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[0],{144:function(e,t,a){e.exports=a(155)},149:function(e,t,a){},151:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),o=(a(149),a(70)),i=a.n(o),s=a(85),m=a(29),u=a(211),f=(a(151),a(194)),p=a(195),d=a(218),E=a(32),h=a.n(E),g=a(190),v=a(157),x=a(193),y=a(30),b=a(216);function w(e){var t=100*Math.round(e-273.15)/100;return isNaN(t)?"--":t}var O=a(83),k=Object.entries(O).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=Object(m.a)(t[1],2);return{city:a,lat:n[0],lon:n[1]}})),j=Object(g.a)({mainWeather:{background:"#d8f0f3","margin-bottom":"25px"}});function S(e){var t=e.location,a=e.setLocation,n=e.icons,l=e.temp,c=e.high,o=e.low,i=j();return r.a.createElement(v.a,{className:i.mainWeather},r.a.createElement(x.a,{container:!0,spacing:3},r.a.createElement(x.a,{item:!0,xs:12,style:{paddingTop:0}},r.a.createElement(M,{className:"location",value:t,update:a})),r.a.createElement(x.a,{item:!0,xs:12,sm:8,container:!0,alignItems:"center"},r.a.createElement(x.a,{item:!0,xs:6,sm:5},r.a.createElement(y.a,{variant:"h2"},w(l),"\xb0c")),r.a.createElement(x.a,{item:!0,xs:6,sm:7},n)),r.a.createElement(x.a,{item:!0,xs:12,sm:4,container:!0},r.a.createElement(x.a,{item:!0,xs:6,sm:12},r.a.createElement(y.a,{variant:"h3"},r.a.createElement(f.a,{fontSize:"large"}),w(c),"\xb0c")),r.a.createElement(x.a,{item:!0,xs:6,sm:12},r.a.createElement(y.a,{variant:"h3"},r.a.createElement(p.a,{fontSize:"large"}),w(o),"\xb0c"))),r.a.createElement(x.a,{item:!0,xs:12,container:!0,justify:"space-around"},r.a.createElement(y.a,{variant:"h4"},h()().format("ddd, MMM DD")),r.a.createElement(y.a,{variant:"h4"},h()().format("HH:mm")))))}function M(e){var t=e.value,a=e.update;return r.a.createElement(d.a,{value:t,onChange:function(e,t){return a(t)},options:k,getOptionLabel:function(e){return e.city},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Location",variant:"filled"}))}})}var C=a(201),N=a(198),W=a(199),L=a(200),D=a(217),H=a(202),R=a(203),A=a(204),T=Object(g.a)({table:{"& td, & th":{textAlign:"center"}}});function G(e){var t=e.hours,a=T();if(!t||0===t.length)return"";var n=r.a.createElement(N.a,null,r.a.createElement(W.a,null,r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Time")),r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Temp. (\xb0c)")),r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Rain (mm)")),r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Wind (km/h)")))),l=t.map((function(e){var t="--";e.rain&&e.rain["1h"]&&(t=e.rain["1h"]);var a="",n=h.a.unix(e.dt),l=n.format("HH:mm");return"00:00"===l&&(a=r.a.createElement(W.a,{key:n.format("MMDD")},r.a.createElement(L.a,{colSpan:4,style:{backgroundColor:"#f1f1f1"}},r.a.createElement(y.a,{variant:"h6"},n.format("ddd, MMM DD"))))),r.a.createElement(r.a.Fragment,null,a,r.a.createElement(W.a,{key:e.dt},r.a.createElement(L.a,null,l),r.a.createElement(L.a,null,w(e.temp)),r.a.createElement(L.a,null,t),r.a.createElement(L.a,null,r.a.createElement(D.a,{style:{display:"flex"}},r.a.createElement(C.a,{style:{transform:"rotate(".concat(e.wind_deg,"deg")}}),r.a.createElement(y.a,{component:"span",style:{marginLeft:"10px"}},function(e){if((e=function(e){return Math.round(3.6*e*100)/100}(e))<1)return"< 1";return e}(e.wind_speed))))))}));return r.a.createElement(H.a,{component:v.a},r.a.createElement(R.a,{className:a.table},n,r.a.createElement(A.a,null,l)))}var I=a(71),_=Object(g.a)({hourlyGraph:{background:"#d8f0f3","margin-bottom":"25px"},hourLabel:{fontSize:"2px"},tempLabel:{fontSize:"1.5px"},svg:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',"& path":{transition:"d 500ms",transform:"scaleY(-1) translate(0, 4px)",transformOrigin:"center"}}});function z(e){var t=e.hours,a=_(),n=Object(I.a)().x((function(e,t){return 3*t-1})).y1((function(e){return e/3})).y0((function(e){return 0})).curve(I.b),l="";if(t){var c=t.map((function(e){return w(e.temp)})),o=t.map((function(e,t){if(t%2===0)return null;var n=h.a.unix(e.dt).format("HH:mm");return r.a.createElement("text",{className:a.hourLabel,x:3*t-2.5,y:14,key:e.dt},n)})),i=c.map((function(e,t){return r.a.createElement("text",{key:t,className:a.tempLabel,x:3*t-1.75,y:"".concat(12-(e/3+2))},e)}));l=r.a.createElement("svg",{className:a.svg,preserveAspectRatio:"xMinYMin slice",viewBox:"0 0 36 15"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"tempGradient",gradientTransform:"rotate(90)"},r.a.createElement("stop",{offset:"0%",stopColor:"#fa0"}),r.a.createElement("stop",{offset:"15%",stopColor:"#fa0"}),r.a.createElement("stop",{offset:"100%",stopColor:"#fc0"}))),r.a.createElement("path",{fill:"url(#tempGradient)",stroke:"none",d:n(c)}),i,r.a.createElement("line",{x1:0,x2:36,y1:11,y2:11,stroke:"black",strokeWidth:".1px"}),o)}return r.a.createElement(v.a,{className:a.hourlyGraph},l)}var B=a(90),J=a(213),F=a(214),$=a(215),Y=a(208),K=a(209),q=a(210),P=a(219),Q=a(205),U=a(212),V=a(220),X=a(197),Z=a(206),ee=a(207),te=a(221);function ae(e){var t=e.open,a=e.onClose,n=e.settings,l=e.setSettings,c=n.maxWind,o=n.minRain;return r.a.createElement(V.a,{anchor:"left",open:t,onClose:a},r.a.createElement(X.a,{dense:!0},r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,"Max wind speed (km/h)")),r.a.createElement(Z.a,null,r.a.createElement(te.a,{steps:1,min:0,max:50,valueLabelDisplay:"auto",onChange:function(e,t){return l({maxWind:t})},value:c})),r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,"Min rainfall (mm)")),r.a.createElement(Z.a,null,r.a.createElement(te.a,{steps:1,min:0,max:100,valueLabelDisplay:"auto",onChange:function(e,t){return l({minRain:t})},value:o}))))}var ne=Object(g.a)({fixedGrid:{position:"fixed",height:"100vh",width:"100vw",pointerEvents:"none",justifyContent:"flex-end",alignContent:"flex-end",textAlign:"right",top:0,left:0},card:{margin:"10px",textAlign:"center"}});function re(e){var t=e.hourlyWeather,a=e.settings,l=e.setSettings,c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=o[0],s=o[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),d=p[0],E=p[1],h=a.maxWind,g=a.minRain,v=ne(),y=[],b=0,w=0;if(t){var O,k=Object(B.a)(t.slice(0,48));try{for(k.s();!(O=k.n()).done;){var j=O.value;j.rain&&j.rain["1h"]&&(b+=j.rain["1h"]),j.wind_speed>w&&(w=j.wind_speed)}}catch(S){k.e(S)}finally{k.f()}}return b<g&&y.push(r.a.createElement(Y.a,{className:v.card},r.a.createElement(K.a,{title:"Water the plants!"}),r.a.createElement(q.a,null,"It's only going to rain ",Math.round(100*b)/100,"mm in the next 48 hours."))),w>h&&y.push(r.a.createElement(Y.a,{className:v.card},r.a.createElement(K.a,{title:"Bring the plants in!"}),r.a.createElement(q.a,null,"The wind is supposed to peek at ",Math.round(100*w)/100,"km/h in the next 48 hours."))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{open:i,onClose:function(){return s(!1)},settings:a,setSettings:l}),r.a.createElement(P.a,{className:v.modal,open:d,onClose:function(){return E(!1)}},r.a.createElement(Q.a,{in:d},r.a.createElement(u.a,{maxWidth:"xs",style:{outline:"none"}},y))),r.a.createElement(x.a,{container:!0,className:v.fixedGrid,spacing:3},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(U.a,{onClick:function(){return s(!0)},style:{pointerEvents:"initial"}},r.a.createElement(J.a,null))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(U.a,{onClick:function(){return E(!0)},style:{pointerEvents:"initial"}},r.a.createElement(F.a,null),r.a.createElement($.a,null)))))}var le=a(39),ce=a(91);var oe,ie=(oe="REACT_WEATHER_STATE",{save:function(e){return function(e,t){localStorage.setItem(e,JSON.stringify(t))}(oe,e)},load:function(e){return function(e,t){var a=window.localStorage.getItem(e);if(a)try{var n=JSON.parse(a),r={};return ce.merge(r,t,n),r}catch(l){console.error(l)}return t}(oe,e)}}),se=ie.save,me=ie.load,ue=a(83),fe=Object.keys(ue);function pe(e,t){var a;switch(t.type){case"setData":var n=t.data;return a=Object(le.a)({},e,{data:n});case"setLocation":var r=t.location;return a=Object(le.a)({},e,{location:r}),se(a),a;case"setHour":var l=t.hour;return a=Object(le.a)({},e,{hour:l}),se(a),a;case"setSettings":var c=t.settings;return a=Object(le.a)({},e,{settings:Object(le.a)({},e.settings,{},c)}),se(a),a;default:throw new Error("unknown action")}}var de=me({location:{country:"Germany",city:fe[0],lat:ue[fe[0]][0],lon:ue[fe[0]][1]},data:{current:{},daily:[{temp:{}}]},settings:{maxWind:15,minRain:10}});function Ee(e){var t=e.lat,a=e.lon;return"https://api.openweathermap.org/data/2.5/onecall?exclude=minutely&appid=9052b1a9ec107a8d04ddc0818c7f8e59"+"&lat=".concat(t,"&lon=").concat(a)}var he=function(){var e,t=Object(n.useReducer)(pe,de),a=Object(m.a)(t,2),l=a[0],c=a[1],o=function(e){return c({type:"setData",data:e})},f=l.data,p=f.current,d=f.daily,E=f.hourly,h=l.settings,g=l.location;return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ee(g),{mode:"cors"});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.t0=o,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[g]),p&&p.weather&&(e=p.weather.map((function(e){var t,a=(t=e.icon,"https://openweathermap.org/img/wn/$@2x.png".replace("$",t));return r.a.createElement("img",{alt:e.description,src:a,key:a})}))),r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{maxWidth:"sm"},r.a.createElement(S,{location:g,setLocation:function(e){return c({type:"setLocation",location:e})},icons:e,temp:p.temp,high:d[0].temp.max,low:d[0].temp.min}),r.a.createElement(z,{hours:E}),r.a.createElement(G,{hours:E}),r.a.createElement(re,{hourlyWeather:E,settings:h,setSettings:function(e){return c({type:"setSettings",settings:e})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e){e.exports=JSON.parse('{"Berlin":[52.520008,13.404954],"Hamburg":[53.551086,9.993682],"Munich (M\xfcnchen)":[48.137154,11.576124],"Cologne (K\xf6ln)":[50.935173,6.953101],"Frankfurt am Main":[50.110924,8.682127],"Stuttgart":[48.783333,9.183333],"D\xfcsseldorf":[51.233334,6.783333],"Dortmund":[51.514244,7.468429],"Essen":[51.450832,7.013056],"Leipzig":[51.343479,12.387772]}')}},[[144,1,2]]]);
//# sourceMappingURL=main.dd1cee45.chunk.js.map