(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[0],{139:function(e,t,a){e.exports=a(150)},144:function(e,t,a){},146:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=(a(144),a(67)),o=a.n(i),s=a(82),m=a(28),u=a(209),f=(a(146),a(192)),p=a(193),d=a(215),E=a(22),h=a.n(E),g=a(187),v=a(151),x=a(191),y=a(29),b=a(214);function w(e){var t=100*Math.round(e-273.15)/100;return isNaN(t)?"--":t}var O=a(80),k=Object.entries(O).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=Object(m.a)(t[1],2);return{city:a,lat:n[0],lon:n[1]}})),j=Object(g.a)({mainWeather:{background:"#d8f0f3","margin-bottom":"25px"}});function S(e){var t=e.location,a=e.setLocation,n=e.icons,l=e.temp,c=e.high,i=e.low,o=j();return r.a.createElement(v.a,{className:o.mainWeather},r.a.createElement(x.a,{container:!0,spacing:3},r.a.createElement(x.a,{item:!0,xs:12,style:{paddingTop:0}},r.a.createElement(M,{className:"location",value:t,update:a})),r.a.createElement(x.a,{item:!0,xs:12,sm:8,container:!0,alignItems:"center"},r.a.createElement(x.a,{item:!0,xs:6,sm:5},r.a.createElement(y.a,{variant:"h2"},w(l),"\xb0c")),r.a.createElement(x.a,{item:!0,xs:6,sm:7},n)),r.a.createElement(x.a,{item:!0,xs:12,sm:4,container:!0},r.a.createElement(x.a,{item:!0,xs:6,sm:12},r.a.createElement(y.a,{variant:"h3"},r.a.createElement(f.a,{fontSize:"large"}),w(c),"\xb0c")),r.a.createElement(x.a,{item:!0,xs:6,sm:12},r.a.createElement(y.a,{variant:"h3"},r.a.createElement(p.a,{fontSize:"large"}),w(i),"\xb0c"))),r.a.createElement(x.a,{item:!0,xs:12,container:!0,justify:"space-around"},r.a.createElement(y.a,{variant:"h4"},h()().format("ddd, MMM DD")),r.a.createElement(y.a,{variant:"h4"},h()().format("HH:mm")))))}function M(e){var t=e.value,a=e.update;return r.a.createElement(d.a,{value:t,onChange:function(e,t){return a(t)},options:k,getOptionLabel:function(e){return e.city},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Location",variant:"filled"}))}})}var C=a(199),N=a(196),W=a(197),L=a(198),D=a(200),H=a(201),R=a(202),A=Object(g.a)({table:{"& td, & th":{textAlign:"center"}}});function T(e){var t=e.hours,a=A();if(!t||0==t.length)return"";var n=r.a.createElement(N.a,null,r.a.createElement(W.a,null,r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Time")),r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Temp. (\xb0c)")),r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Rain (mm)")),r.a.createElement(L.a,null,r.a.createElement(y.a,null,"Wind (km/h)")))),l=t.map((function(e){var t=h.a.utc(),a=(h.a.duration(h.a.unix(e.dt).diff(t)).days(),"--");e.rain&&e.rain["1h"]&&(a=e.rain["1h"]);var n="",l=h.a.unix(e.dt),c=l.format("HH:mm");return"00:00"===c&&(n=r.a.createElement(W.a,{key:l.format("MMDD")},r.a.createElement(L.a,{colSpan:4,style:{backgroundColor:"#f1f1f1"}},r.a.createElement(y.a,{variant:"h6"},l.format("ddd, MMM DD"))))),r.a.createElement(r.a.Fragment,null,n,r.a.createElement(W.a,{key:e.dt},r.a.createElement(L.a,null,c),r.a.createElement(L.a,null,w(e.temp)),r.a.createElement(L.a,null,a),r.a.createElement(L.a,{style:{display:"flex"}},r.a.createElement(C.a,{style:{transform:"rotate(".concat(e.wind_deg,"deg")}}),r.a.createElement(y.a,{component:"span",style:{marginLeft:"10px"}},function(e){if((e=function(e){return Math.round(3.6*e*100)/100}(e))<1)return"< 1";return e}(e.wind_speed)))))}));return r.a.createElement(D.a,{component:v.a},r.a.createElement(H.a,{className:a.table},n,r.a.createElement(R.a,null,l)))}var G=a(68),I=Object(g.a)({hourlyGraph:{background:"#d8f0f3","margin-bottom":"25px"},hourLabel:{fontSize:"2px"},tempLabel:{fontSize:"1.5px"},svg:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',"& path":{transition:"d 500ms",transform:"scaleY(-1) translate(0, 4px)",transformOrigin:"center"}}});function _(e){var t=e.hours,a=I(),n=Object(G.a)().x((function(e,t){return 3*t-1})).y1((function(e){return e/3})).y0((function(e){return 0})).curve(G.b),l="";if(t){var c=t.map((function(e){return w(e.temp)})),i=t.map((function(e,t){if(t%2===0)return null;var n=h.a.unix(e.dt).format("HH:mm");return r.a.createElement("text",{className:a.hourLabel,x:3*t-2.5,y:14,key:e.dt},n)})),o=c.map((function(e,t){return r.a.createElement("text",{key:t,className:a.tempLabel,x:3*t-1.75,y:"".concat(12-(e/3+2))},e)}));l=r.a.createElement("svg",{className:a.svg,preserveAspectRatio:"xMinYMin slice",viewBox:"0 0 36 15"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"tempGradient",gradientTransform:"rotate(90)"},r.a.createElement("stop",{offset:"0%",stopColor:"#fa0"}),r.a.createElement("stop",{offset:"15%",stopColor:"#fa0"}),r.a.createElement("stop",{offset:"100%",stopColor:"#fc0"}))),r.a.createElement("path",{fill:"url(#tempGradient)",stroke:"none",d:n(c)}),o,r.a.createElement("line",{x1:0,x2:36,y1:11,y2:11,stroke:"black",strokeWidth:".1px"}),i)}return r.a.createElement(v.a,{className:a.hourlyGraph},l)}var z=a(88),B=a(211),J=a(212),F=a(213),$=a(206),Y=a(207),K=a(208),q=a(216),P=a(203),Q=a(210),U=a(217),V=a(195),X=a(204),Z=a(205),ee=a(218);function te(e){var t=e.open,a=e.onClose,n=e.settings,l=e.setSettings,c=n.maxWind,i=n.minRain;return r.a.createElement(U.a,{anchor:"left",open:t,onClose:a},r.a.createElement(V.a,{dense:!0},r.a.createElement(X.a,null,r.a.createElement(Z.a,null,"Max wind speed (km/h)")),r.a.createElement(X.a,null,r.a.createElement(ee.a,{steps:1,min:0,max:50,valueLabelDisplay:"auto",onChange:function(e,t){return l({maxWind:t})},value:c})),r.a.createElement(X.a,null,r.a.createElement(Z.a,null,"Min rainfall (mm)")),r.a.createElement(X.a,null,r.a.createElement(ee.a,{steps:1,min:0,max:100,valueLabelDisplay:"auto",onChange:function(e,t){return l({minRain:t})},value:i}))))}var ae=Object(g.a)({fixedGrid:{position:"fixed",height:"100vh",width:"100vw",pointerEvents:"none",justifyContent:"flex-end",alignContent:"flex-end",textAlign:"right",top:0,left:0},card:{margin:"10px",textAlign:"center"}});function ne(e){var t=e.hourlyWeather,a=e.settings,l=e.setSettings,c=Object(n.useState)(!1),i=Object(m.a)(c,2),o=i[0],s=i[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),d=p[0],E=p[1],h=a.maxWind,g=a.minRain,v=ae(),y=[],b=0,w=0;if(t){var O,k=Object(z.a)(t.slice(0,48));try{for(k.s();!(O=k.n()).done;){var j=O.value;j.rain&&j.rain["1h"]&&(b+=j.rain["1h"]),j.wind_speed>w&&(w=j.wind_speed)}}catch(S){k.e(S)}finally{k.f()}}return b<g&&y.push(r.a.createElement($.a,{className:v.card},r.a.createElement(Y.a,{title:"Water the plants!"}),r.a.createElement(K.a,null,"It's only going to rain ",Math.round(100*b)/100,"mm in the next 48 hours."))),w>h&&y.push(r.a.createElement($.a,{className:v.card},r.a.createElement(Y.a,{title:"Bring the plants in!"}),r.a.createElement(K.a,null,"The wind is supposed to peek at ",Math.round(100*w)/100,"km/h in the next 48 hours."))),r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{open:o,onClose:function(){return s(!1)},settings:a,setSettings:l}),r.a.createElement(q.a,{className:v.modal,open:d,onClose:function(){return E(!1)}},r.a.createElement(P.a,{in:d},r.a.createElement(u.a,{maxWidth:"xs",style:{outline:"none"}},y))),r.a.createElement(x.a,{container:!0,className:v.fixedGrid,spacing:3},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Q.a,{onClick:function(){return s(!0)},style:{pointerEvents:"initial"}},r.a.createElement(B.a,null))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Q.a,{onClick:function(){return E(!0)},style:{pointerEvents:"initial"}},r.a.createElement(J.a,null),r.a.createElement(F.a,null)))))}var re=a(37),le=a(89);var ce,ie=(ce="REACT_WEATHER_STATE",{save:function(e){return function(e,t){localStorage.setItem(e,JSON.stringify(t))}(ce,e)},load:function(e){return function(e,t){var a=window.localStorage.getItem(e);if(a)try{var n=JSON.parse(a),r={};return le.merge(r,t,n),r}catch(l){console.error(l)}return t}(ce,e)}}),oe=ie.save,se=ie.load,me=a(80),ue=Object.keys(me);function fe(e,t){var a;switch(t.type){case"setData":var n=t.data;return a=Object(re.a)({},e,{data:n});case"setLocation":var r=t.location;return a=Object(re.a)({},e,{location:r}),oe(a),a;case"setHour":var l=t.hour;return a=Object(re.a)({},e,{hour:l}),oe(a),a;case"setSettings":var c=t.settings;return a=Object(re.a)({},e,{settings:Object(re.a)({},e.settings,{},c)}),oe(a),a;default:throw new Error("unknown action")}}var pe=se({location:{country:"Germany",city:ue[0],lat:me[ue[0]][0],lon:me[ue[0]][1]},data:{current:{},daily:[{temp:{}}]},settings:{maxWind:15,minRain:10}});function de(e){var t=e.lat,a=e.lon;return"https://api.openweathermap.org/data/2.5/onecall?exclude=minutely&appid=9052b1a9ec107a8d04ddc0818c7f8e59"+"&lat=".concat(t,"&lon=").concat(a)}var Ee=function(){var e,t=Object(n.useReducer)(fe,pe),a=Object(m.a)(t,2),l=a[0],c=a[1],i=function(e){return c({type:"setData",data:e})},f=l.data,p=f.current,d=f.daily,E=f.hourly,h=l.settings,g=l.location;return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(de(g),{mode:"cors"});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.t0=i,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[g]),p&&p.weather&&(e=p.weather.map((function(e){var t,a=(t=e.icon,"https://openweathermap.org/img/wn/$@2x.png".replace("$",t));return r.a.createElement("img",{alt:e.description,src:a,key:a})}))),r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{maxWidth:"sm"},r.a.createElement(S,{location:g,setLocation:function(e){return c({type:"setLocation",location:e})},icons:e,temp:p.temp,high:d[0].temp.max,low:d[0].temp.min}),r.a.createElement(_,{hours:E}),r.a.createElement(T,{hours:E}),r.a.createElement(ne,{hourlyWeather:E,settings:h,setSettings:function(e){return c({type:"setSettings",settings:e})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e){e.exports=JSON.parse('{"Berlin":[52.520008,13.404954],"Hamburg":[53.551086,9.993682],"Munich (M\xfcnchen)":[48.137154,11.576124],"Cologne (K\xf6ln)":[50.935173,6.953101],"Frankfurt am Main":[50.110924,8.682127],"Stuttgart":[48.783333,9.183333],"D\xfcsseldorf":[51.233334,6.783333],"Dortmund":[51.514244,7.468429],"Essen":[51.450832,7.013056],"Leipzig":[51.343479,12.387772]}')}},[[139,1,2]]]);
//# sourceMappingURL=main.79a32ebf.chunk.js.map